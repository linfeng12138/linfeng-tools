"use strict";(()=>{console.log("欢迎使用林风工具")})();const defaultConfig={text:{judgeSpace:true},date:{fmt:"YYYY-MM-DD hh:mm:ss",week:true},animat:{floatText:[0,1]}};function judgeDataType(param){const result=Object.prototype.toString.call(param).replace(/^\[object (\S+)\]$/,"$1");return result}function setCookie(name,value,time=30){const now=new Date;now.setMinutes(now.getMinutes()+time);document.cookie=name+"="+value+";expires="+now.toUTCString()}function getCookie(value){let name=value+"=";let ca=document.cookie.split(";");for(let i=0;i<ca.length;i++){let c=ca[i].trim();if(c.indexOf(name)==0)return c.substring(name.length,c.length)}return false}function delCookie(name){let exp=new Date;exp.setTime(exp.getTime()-1);let cval=getCookie(name);document.cookie=name+"="+cval+"; expires="+exp.toGMTString()}function dateFormat(date,fmt,week=defaultConfig.date.week){const dateType=judgeDataType(date);if(dateType!="Date"&&dateType!="Undefind"&&dateType!="Null")throw new Error("异常数据类型，请传入合法数据\nError function:dateFormat()");if(judgeDataType(fmt)!="String"||judgeNullValue(fmt)){fmt=defaultConfig.date.fmt}let ret="null";const opt={"Y+":date.getFullYear().toString(),"M+":(date.getMonth()+1).toString(),"D+":date.getDate().toString(),"h+":date.getHours().toString(),"m+":date.getMinutes().toString(),"s+":date.getSeconds().toString(),"w+":date.getDay()?date.getDay().toString():"7","W+":date.getDay()};switch(opt["W+"]){case 0:if(week)opt["W+"]="天";else opt["W+"]="日";break;case 1:opt["W+"]="一";break;case 2:opt["W+"]="二";break;case 3:opt["W+"]="三";break;case 4:opt["W+"]="四";break;case 5:opt["W+"]="五";break;case 6:opt["W+"]="六";break;default:opt["W=="]="Error"}for(let k in opt){ret=new RegExp("("+k+")").exec(fmt);if(ret){fmt=fmt.replace(ret[1],ret[1].length==1?opt[k]:opt[k].padStart(ret[1].length,"0"))}}return fmt}function judgeNullValue(param,space=defaultConfig.text.judgeSpace){const type=judgeDataType(param);if(type==="Undefined"||type==="Null"){return true}else if(type==="String"){if(space){return param.trim().length?false:true}else{return param.length?false:true}}else if(type==="Number"){return Number.parseFloat(param)?false:true}else if(type==="Array"){return param.length?false:true}else if(type==="Object"){return JSON.stringify(param)==="{}"}else if(type==="Date"){return dateFormat(param)==="1970-01-01 00:00:00"?true:false}else{throw new Error("异常数据类型，请传入合法数据\nError function:judgeNullValue()")}}function linfengToolsAnimationFloatText(textArr=defaultConfig.animat.floatText){if(judgeDataType(textArr)!="Array")throw new Error("您传递的数据不为数组\nError function:linfengToolsAnimationFloatText()");if(judgeNullValue(textArr))throw new Error("数组不可为空\nError function:linfengToolsAnimationFloatText()");let getRandomColor=()=>"#"+(h=>new Array(7-h.length).join("0")+h)((Math.random()*16777216<<0).toString(16));let showText=textArr=>{if(!textArr||textArr.length==0){return}let index=0;document.documentElement.addEventListener("click",function(e){let x=e.pageX;let y=e.pageY;let text=document.createElement("span");text.setAttribute("class","text_popup");this.appendChild(text);if(textArr[index]){text.innerHTML=textArr[index]}else{index=0;text.innerHTML=textArr[index]}text.style.color=getRandomColor();text.addEventListener("animationend",function(){text.parentNode.removeChild(text)},false);if(x<text.clientWidth){text.style.left=x+"px"}else if(text.clientWidth>document.documentElement.clientWidth-x){text.style.left=x-text.clientWidth+"px"}else{text.style.left=x-text.clientWidth/2+"px"}text.style.top=y-text.clientHeight/2+"px";index++},false)};showText(textArr)}const linfengToolsColorChange={rgbToHex:function(val){let r,g,b,a,regRgba=/rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([.\d]+))?\)/,rsa=val.replace(/\s+/g,"").match(regRgba);if(!!rsa){r=parseInt(rsa[1]).toString(16);r=r.length==1?"0"+r:r;g=(+rsa[2]).toString(16);g=g.length==1?"0"+g:g;b=(+rsa[3]).toString(16);b=b.length==1?"0"+b:b;a=+(rsa[5]?rsa[5]:1)*100;return{hex:"#"+r+g+b,r:parseInt(r,16),g:parseInt(g,16),b:parseInt(b,16),alpha:Math.ceil(a)}}else{return{hex:"无效",alpha:100}}},hexToRgb:function(val){let reg=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;let color=val.toLowerCase();let result="";if(reg.test(color)){if(color.length===4){let colorNew="#";for(let i=1;i<4;i+=1){colorNew+=color.slice(i,i+1).concat(color.slice(i,i+1))}color=colorNew}let colorChange=[];for(let i=1;i<7;i+=2){colorChange.push(parseInt("0x"+color.slice(i,i+2)))}result="rgb("+colorChange.join(",")+")";return{rgb:result,r:colorChange[0],g:colorChange[1],b:colorChange[2]}}else{result="无效";return{rgb:result}}}};const linfeng={type:judgeDataType,date:dateFormat,null:judgeNullValue,color:{toHex:linfengToolsColorChange.rgbToHex,toRgb:linfengToolsColorChange.hexToRgb},text:{},animat:{floatText:linfengToolsAnimationFloatText},cookie:{set:setCookie,get:getCookie,del:delCookie}};